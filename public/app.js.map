{"version":3,"sources":["app/components/App.js","app/components/MainView.js","app/initialize.js","app/templates/main.jst"],"names":["blocks","BlockModel","Model","extend","defaults","title","images","BlockCollection","Collection","model","Application","region","onStart","showView","collection","numberOfBlocks","currentBlock","block","noImage","numberOfImagesPerBlock","View","initialize","models","length","getBlock","number","ramdonImages","attributes","getImages","shuffle","newImages","i","tempImage","push","currentNumberOfBlock","events","changeBlock","event","currentTarget","className","typeButton","$","hide","show","set","disableButton","type","html","modelEvents","template","onDomRefresh","reloadBlock","render","document","addEventListener","app","start"],"mappings":"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","file":"public/app.js","sourcesContent":["import Backbone from 'backbone';\nimport Marionette from 'backbone.marionette';\nimport MainView from './MainView';\n\n// TODO: get this data from a API\nvar blocks = [\n  {\n    \"title\": \"First Block\",\n    \"images\": [\n      \"example-work01.jpg\",\n      \"example-work02.jpg\",\n      \"example-work03.jpg\",\n      \"example-work04.jpg\"\n    ]\n  },\n  {\n    \"title\": \"Second Block\",\n    \"images\": [\n      \"example-work05.jpg\",\n      \"example-work06.jpg\",\n      \"example-work07.jpg\",\n      \"example-work08.jpg\"\n    ]\n  },\n  {\n    \"title\": \"Third Block\",\n    \"images\": [\n      \"example-work09.jpg\"\n    ]\n  }\n];\n\nvar BlockModel = Backbone.Model.extend({\n  defaults: {\n    title: \"\",\n    images: []\n  }\n});\n\nvar BlockCollection = Backbone.Collection.extend({\n  model: BlockModel\n});\n\n/*\nvar BlockCollection = Backbone.Collection.extend({\n  model: BlockModel,\n  url: '/apifake/blocks.json',\n  parse: function (response) {\n    // console.log(response);\n    return response;\n  }\n});\n\n\nvar getBlocks = new BlockCollection;\ngetBlocks.fetch({\n  success: function (collection, response) {\n    // console.log(response);\n  }\n})\n*/\n\nexport default Marionette.Application.extend({\n  region: '#app',\n\n  onStart() {\n    this.showView(new MainView({ collection: new BlockCollection(blocks) }));\n  }\n});\n","import Backbone from 'backbone';\nimport Marionette from 'backbone.marionette';\nimport template from 'templates/main';\n\n\nimport _ from 'underscore';\n\n// INIT Vars\n// TODO: add this vars to a config file\nvar numberOfBlocks = 0;\nvar currentBlock = 0;\nvar block;\nvar noImage = 'no-image.jpg';\nvar numberOfImagesPerBlock = 4;\n\nexport default Marionette.View.extend({\n\n  initialize: function () {\n    numberOfBlocks = this.collection.models.length;\n    block = this.getBlock(0);\n    // console.log(block);\n    this.model = new Backbone.Model(block);\n  },\n\n  getBlock: function (number) {\n    return this.ramdonImages(number, this.collection.models[number].attributes);\n  },\n\n  ramdonImages: function (number, block) {\n    var getImages = _.shuffle(block.images);\n    var newImages = [];\n    for (var i = 0; i < numberOfImagesPerBlock; i++) {\n      var tempImage = noImage;\n      if (getImages[i]) {\n        tempImage = getImages[i];\n      }\n      newImages.push(tempImage);\n    }\n    return {\n      title: block.title,\n      images: newImages,\n      numberOfBlocks: this.collection.models.length,\n      currentNumberOfBlock: number + 1\n    };\n  },\n\n  events: {\n    'click .left-button': 'changeBlock',\n    'click .right-button': 'changeBlock'\n  },\n\n  changeBlock: function (event) {\n    if (event && event.currentTarget && event.currentTarget.className) {\n\n      var typeButton = event.currentTarget.className;\n\n      if (typeButton === 'left-button') {\n        currentBlock--;\n      } else {\n        currentBlock++;\n      }\n\n      // Control the current block\n      if ((currentBlock + 1) > numberOfBlocks) {\n        currentBlock--;\n      }\n      if (currentBlock < 0) {\n        currentBlock = 0;\n      }\n\n      // We are in the last block\n      if ((currentBlock + 1) === numberOfBlocks) {\n        $('#right-button-container').hide();\n      } else {\n        $('#right-button-container').show();\n      }\n\n      // We are in the first block\n      if (currentBlock === 0) {\n        $('#left-button-container').hide();\n      } else {\n        $('#left-button-container').show();\n      }\n\n      block = this.getBlock(currentBlock);\n      // this.model = new Backbone.Model(block);\n      this.model.set(block);\n      // console.log('set: '+this.model.get('title'));\n    }\n  },\n\n  disableButton: function (type) {\n    $('.jope').html(type);\n  },\n\n  modelEvents: {\n    \"change\": \"reloadBlock\",\n  },\n\n  template: template,\n\n  onDomRefresh: function () {\n    if (currentBlock === 0) {\n      $('#left-button-container').hide();\n    }\n    if ((currentBlock + 1) === numberOfBlocks) {\n      $('#right-button-container').hide();\n    }\n  },\n\n  reloadBlock: function () {\n    this.render();\n  }\n\n});\n","import App from 'components/App';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const app = new App();\n  app.start();\n});\n","module.exports = function(obj){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\nwith(obj||{}){\n__p+='<div class=\"title-max-width\">\\n\\t'+\n((__t=( title ))==null?'':__t)+\n'\\n</div>\\n\\n<div class=\"mdl-grid portfolio-max-width\">\\n\\t<div class=\"mdl-cell mdl-card mdl-shadow--4dp portfolio-card\">\\n\\t\\t<div class=\"mdl-card__media\">\\n\\t\\t\\t<img class=\"article-image\" src=\"images/'+\n((__t=( images[0] ))==null?'':__t)+\n'\" border=\"0\" alt=\"\">\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\"mdl-cell mdl-card mdl-shadow--4dp portfolio-card\">\\n\\t\\t<div class=\"mdl-card__media\">\\n\\t\\t\\t<img class=\"article-image\" src=\"images/'+\n((__t=( images[1] ))==null?'':__t)+\n'\" border=\"0\" alt=\"\">\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\"mdl-cell mdl-card mdl-shadow--4dp portfolio-card\">\\n\\t\\t<div class=\"mdl-card__media\">\\n\\t\\t\\t<img class=\"article-image\" src=\"images/'+\n((__t=( images[2] ))==null?'':__t)+\n'\" border=\"0\" alt=\"\">\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\"mdl-cell mdl-card mdl-shadow--4dp portfolio-card\">\\n\\t\\t<div class=\"mdl-card__media\">\\n\\t\\t\\t<img class=\"article-image\" src=\"images/'+\n((__t=( images[3] ))==null?'':__t)+\n'\" border=\"0\" alt=\"\">\\n\\t\\t</div>\\n\\t</div>\\n</div>\\n\\n\\n<div class=\"buttons-max-width\">\\n\\t<div class=\"left-button\">\\n\\t\\t<div id=\"left-button-container\">\\n\\t\\t\\t<button class=\"mdl-button mdl-js-button\">\\n\\t\\t\\t\\t<i class=\"material-icons\">arrow_back</i>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\"page-text\">\\n\\t\\tBlock\\n\\t\\t'+\n((__t=( currentNumberOfBlock ))==null?'':__t)+\n'/\\n\\t\\t\\t'+\n((__t=( numberOfBlocks ))==null?'':__t)+\n'\\n\\t</div>\\n\\t<!-- disabled -->\\n\\t<div class=\"right-button\">\\n\\t\\t<div id=\"right-button-container\">\\n\\t\\t\\t<button class=\"mdl-button mdl-js-button\">\\n  \\t\\t\\t\\t<i class=\"material-icons\">arrow_forward</i>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t</div>\\n</div>\\n\\n<div class=\"buttons-max-width\">\\n\\t<div class=\"jope\"></div>\\n</div>';\n}\nreturn __p;\n};"]}